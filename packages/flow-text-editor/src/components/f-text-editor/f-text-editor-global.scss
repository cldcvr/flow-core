@import "../../../../flow-core/src/mixins/scss/mixins";
@import "quill/dist/quill.snow.css";

f-text-editor {
	@include base();
	display: flex;
	flex: 1 0 auto;
	max-width: 100%;
	max-height: 100%;
	overflow: auto;
	border-radius: 4px;
	flex-direction: column;
	> .ql-toolbar.ql-snow {
		font-family: var(--flow-font);
		border: 1px solid var(--color-input-default);
		background-color: var(--color-input-default);
		.ql-picker {
			color: var(--color-text-default);

			&.ql-expanded .ql-picker-label .ql-stroke {
				stroke: var(--color-text-default);
			}
			.ql-picker-label .ql-stroke {
				stroke: var(--color-text-default);
			}
			&.ql-expanded .ql-picker-options,
			&.ql-expanded .ql-picker-label {
				border-color: var(--color-surface-secondary);
			}

			&.ql-expanded .ql-picker-label {
				background-color: var(--color-surface-secondary);
			}
		}
		.ql-picker-options {
			background-color: var(--color-surface-secondary);
		}
	}

	> .f-text-editor-root {
		display: flex;
		max-width: 100%;
		max-height: 100%;
		overflow: auto;
		flex-direction: column;
		background-color: var(--color-input-default);

		&.ql-container.ql-snow {
			border: 1px solid var(--color-input-default);
		}
		.ql-editor {
			padding: 0px 12px 12px 12px;
		}
	}

	.ql-snow.ql-toolbar button:hover,
	.ql-snow .ql-toolbar button:hover,
	.ql-snow.ql-toolbar button:focus,
	.ql-snow .ql-toolbar button:focus,
	.ql-snow.ql-toolbar button.ql-active,
	.ql-snow .ql-toolbar button.ql-active,
	.ql-snow.ql-toolbar .ql-picker-label:hover,
	.ql-snow .ql-toolbar .ql-picker-label:hover,
	.ql-snow.ql-toolbar .ql-picker-label.ql-active,
	.ql-snow .ql-toolbar .ql-picker-label.ql-active,
	.ql-snow.ql-toolbar .ql-picker-item:hover,
	.ql-snow .ql-toolbar .ql-picker-item:hover,
	.ql-snow.ql-toolbar .ql-picker-item.ql-selected,
	.ql-snow .ql-toolbar .ql-picker-item.ql-selected {
		color: var(--color-primary-default);
	}
	.ql-snow .ql-stroke {
		stroke: var(--color-text-default);
	}

	.ql-snow.ql-toolbar button:hover .ql-stroke,
	.ql-snow .ql-toolbar button:hover .ql-stroke,
	.ql-snow.ql-toolbar button:focus .ql-stroke,
	.ql-snow .ql-toolbar button:focus .ql-stroke,
	.ql-snow.ql-toolbar button.ql-active .ql-stroke,
	.ql-snow .ql-toolbar button.ql-active .ql-stroke,
	.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
	.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
	.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
	.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
	.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
	.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
	.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
	.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
	.ql-snow.ql-toolbar button:hover .ql-stroke-miter,
	.ql-snow .ql-toolbar button:hover .ql-stroke-miter,
	.ql-snow.ql-toolbar button:focus .ql-stroke-miter,
	.ql-snow .ql-toolbar button:focus .ql-stroke-miter,
	.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
	.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,
	.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
	.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
	.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
	.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
	.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
	.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
	.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
	.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
		stroke: var(--color-primary-default);
	}

	.ql-snow .ql-tooltip {
		background-color: var(--color-surface-secondary);
		border: 1px solid var(--color-surface-secondary);
		box-shadow: 0 0 5px var(--color-surface-secondary);
		color: var(--color-text-default);
		padding: 12px;
		border-radius: 4px;
	}
	.ql-snow .ql-tooltip input[type="text"] {
		background-color: var(--color-input-default);
		padding: 12px;
		outline: none;
		height: 28px;
		border: none;
		border-radius: 4px;
		color: var(--color-text-default);
		width: 250px;

		&:focus {
			border: 1px solid var(--color-primary-default);
		}
	}
	.ql-snow a {
		color: var(--color-primary-default);
	}
	.ql-editor.ql-blank::before {
		color: var(--color-text-subtle);
		font-style: normal;
	}
	.ql-snow .ql-fill,
	.ql-snow .ql-stroke.ql-fill {
		fill: var(--color-text-default);
	}
	.ql-snow.ql-toolbar button:hover .ql-fill,
	.ql-snow .ql-toolbar button:hover .ql-fill,
	.ql-snow.ql-toolbar button:focus .ql-fill,
	.ql-snow .ql-toolbar button:focus .ql-fill,
	.ql-snow.ql-toolbar button.ql-active .ql-fill,
	.ql-snow .ql-toolbar button.ql-active .ql-fill,
	.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
	.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
	.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
	.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
	.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
	.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
	.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
	.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
	.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
	.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
	.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
	.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
	.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
	.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
	.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
	.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
	.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
	.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
	.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
	.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
	.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
	.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
		fill: var(--color-primary-default);
	}

	strong {
		font-weight: bold;
	}
	em {
		font-style: italic;
	}
	u {
		text-decoration: underline;
	}
	s {
		text-decoration: line-through;
	}
	blockquote {
		border-left: 4px solid var(--color-border-default);
		margin-bottom: 5px;
		margin-top: 5px;
		padding-left: 16px;
	}
	.ql-snow .ql-editor {
		h1 {
			font-size: 20px;
			font-weight: bold;
			line-height: 30px;
		}

		h2 {
			font-size: 18px;
			font-weight: bold;
			line-height: 27px;
		}

		h3 {
			font-size: 16px;
			font-weight: bold;
			line-height: 24px;
		}
	}
	ol {
		list-style-type: decimal;
		li {
			counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
			counter-increment: list-0;
			list-style-type: none;
			&:before {
				margin-left: -1.5em;
				margin-right: 0.3em;
				text-align: right;
				content: counter(list-0, decimal) ". ";
				display: inline-block;
				white-space: nowrap;
				width: 1.2em;
			}
		}
	}
	ul {
		padding-left: 1.5em;
		margin: 0;
		padding: 0;
		counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
		li {
			list-style-type: none;
			&:before {
				margin-left: -1.5em;
				margin-right: 0.3em;
				text-align: right;
				content: "\2022";
				display: inline-block;
				white-space: nowrap;
				width: 1.2em;
			}
		}
	}
	.ql-snow .ql-editor pre.ql-syntax,
	pre.ql-syntax {
		background-color: var(--color-surface-secondary);
		white-space: pre-wrap;
		margin-bottom: 5px;
		margin-top: 5px;
		padding: 5px 10px;
	}
}

f-div[direction="column"] {
	> f-text-editor {
		width: 100%;
		flex: 1 0 auto;
	}
}

f-div[direction="row"] {
	> f-text-editor {
		flex: 1 0;
		max-width: 100%;
		height: 100%;
	}
}
